(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[9090],{93077:function(a,b,c){"use strict";c.d(b,{B:function(){return d},W:function(){return e}});var d={dasboard:"Trang điều khiển",settings:{system:"Cấu h\xecnh hệ thống",feeTQVN:"Cấu h\xecnh vận chuyển TQVN",feeBuy:"Cấu h\xecnh ph\xed dịch vụ mua h\xe0ng",feePayFor:"Cấu h\xecnh ph\xed thanh to\xe1n hộ",feeUser:"Cấu h\xecnh ph\xed người d\xf9ng",listBank:"Danh s\xe1ch ng\xe2n h\xe0ng",notification:"Cấu h\xecnh th\xf4ng b\xe1o",goodsChecking:"Cấu h\xecnh ph\xed kiểm đếm",wareHouse:"Cấu h\xecnh kho TQ - VN"},staff:{employeeManager:"Quản l\xfd nh\xe2n vi\xean",decentralization:"Quản l\xfd ph\xe2n quyền",infoAccount:"Th\xf4ng tin t\xe0i khoản",commissionManager:"Quản l\xfd hoa hồng"},listCustomer:"Danh s\xe1ch kh\xe1ch h\xe0ng",createNewClient:"Th\xeam mới kh\xe1ch h\xe0ng",oder:{orderMain:"Danh s\xe1ch đơn h\xe0ng",oderBuyFor:"Đơn h\xe0ng mua hộ",oderBuyForOther:"Đơn h\xe0ng mua hộ kh\xe1c",payFor:"Đơn h\xe0ng thanh to\xe1n hộ",detail:" Chi tiết đơn h\xe0ng",payOder:"Thanh to\xe1n đơn h\xe0ng",createdOder:"Tạo đơn h\xe0ng kh\xe1c",detailProduct:"Chi tiết sản phẩm"},handleComplaint:"Xử l\xfd khiếu nại",deposit:{listDeposit:"Danh s\xe1ch vận chuyển hộ",statisticalFeeDeposit:"Thống k\xea cước vận chuyển hộ",exportDepositRequest:"Xuất kho k\xfd gửi đ\xe3 y\xeau cầu",exportDeposit:"Xuất kho kiện chưa y\xeau cầu",detailRequest:"Chi tiết y\xeau cầu"},checkWarehouseTQ:"Kiểm h\xe0ng kho TQ",checkWarehouseVN:"Kiểm h\xe0ng kho VN",importWarehouseTQ:"Nhập kho TQ",assignPro:"G\xe1n kiện cho kh\xe1ch","export":"Xuất kho",parcelManagement:{packageManagement:"Quản l\xfd bao h\xe0ng",billCodeManager:"Quản l\xfd m\xe3 vận đơn",lostCase:"Danh s\xe1ch kiện thất lạc",floatingCase:"Danh s\xe1ch kiện tr\xf4i nổi",detailPackageManagement:"Quản l\xfd bao h\xe0ng chi tiết"},moneyManagement:{personalRecharge:"quản l\xfd nạp tiền c\xe1 nh\xe2n",historyRechargeVN:"Lịch sử nạp tiền",historyWithdrawVN:"Lịch sử r\xfat tiền",historyRechargeTQ:"Lịch sử nạp tệ",historyWithdrawTQ:"Lịch sử r\xfat tệ",historyTransaction:"Lịch sử giao dịch",payExport:"Thanh to\xe1n xuất kho",detailPayExport:"Chi tiết thanh to\xe1n xuất kho"},statistical:{printPurchaseVoucher:"In phiếu mua hộ",turnover:"Thống k\xea doanh thu",depositMoney:"Thống k\xea tiền nạp",surplus:"Thống k\xea số dư",transaction:"Thống k\xea giao dịch",other:"Thống k\xea đơn h\xe0ng",realMoney:"Thống k\xea tiền mua h\xe0ng",depositRevenue:"Thống k\xea k\xfd gửi",salesRevenue:"Thống k\xea sale",orderRevenue:"Thống k\xea đặt h\xe0ng",profitBuyFor:"Thống k\xea lợi nhuận mua hộ",profitPayFor:"Thống k\xea lợi nhuận mua hộ"},post:{Categories:"Chuy\xean mục b\xe0i viết",listPost:"B\xe0i viết",addCategories:" Th\xeam chuy\xean mục",editCategories:"Chỉnh sửa chuy\xean mục",addPost:"Th\xeam b\xe0i viết",editPost:"Chỉnh sửa b\xe0i viết"},homepageContent:"Cấu h\xecnh trang chủ",detailMenu:"Chi tiết Menu",addMenuChild:"Th\xeam menu con",addMenu:"Th\xeam menu",signIn:"Đăng nhập",register:"Đăng k\xfd",forgotPassword:"Kh\xf4i phục mật khẩu",homePage:"NHAPHANGTRUNGQUOC.MONAMEDIA.NET",notification:"Th\xf4ng b\xe1o"},e={dashboard:"Dashboard",shopping:{shopingBag:"Giỏ h\xe0ng",payment:"Thanh to\xe1n"},buyGroceries:{listOder:"Danh s\xe1ch đơn h\xe0ng",createOderPageTMDT:"Tạo đơn h\xe0ng trang TMĐT Kh\xe1c",listOderTMĐT:"Danh s\xe1ch đơn h\xe0ng"},consignmentShipping:{createOderDeposit:"Tạo đơn h\xe0ng k\xfd gửi",listOderDeposit:"Danh s\xe1ch đơn h\xe0ng k\xfd gửi",statisticalDeposit:"Thống k\xea cước k\xfd gửi"},payFor:{listRequest:"Danh s\xe1ch y\xeau cầu thanh to\xe1n hộ",createRequest:"Tạo y\xeau cầu thanh to\xe1n hộ",detaiPay:"Chi tiết thanh to\xe1n hộ"},financialManagement:{listTransactionVND:" Danh s\xe1ch giao dịch VNĐ",listTransactionTQ:" Danh s\xe1ch giao dịch VNĐ",rechargeVNĐ:"Nạp tiền VNĐ",rechargeTQ:"Nạp tiền TQ",withdrawMoneyVND:"R\xfat tiền VNĐ",withdrawMoneyTQ:"R\xfat tiền TQ"},complain:"Khiếu nại",floating:"Kiện tr\xf4i nổi",createComplain:"Tạo khiếu nại mới",tracking:"Theo d\xf5i vận chuyển",infoUser:"Th\xf4ng tin người d\xf9ng"}},50803:function(a,b,c){"use strict";c.r(b),c.d(b,{"default":function(){return ia}}),c(9405);var d=c(89552),e=c(92809),f=c(91164),g=c(30266),h=c(49711);c(70643);var i=c(68469),j=c(809),k=c.n(j),l=c(1413),m=c(67294),n={icon:{tag:"svg",attrs:{viewBox:"0 0 1024 1024",focusable:"false"},children:[{tag:"path",attrs:{d:"M715.8 493.5L335 165.1c-14.2-12.2-35-1.2-35 18.5v656.8c0 19.7 20.8 30.7 35 18.5l380.8-328.4c10.9-9.4 10.9-27.6 0-37z"}}]},name:"caret-right",theme:"outlined"},o=c(97685),p=c(4942),q=c(91),r=c(94184),s=c.n(r),t=(0,m.createContext)({}),u=t,v=c(71002),w=c(92138),x=c(80334),y=c(98924),z="rc-util-key";function A(a){return a.attachTo?a.attachTo:document.querySelector("head")||document.body}function B(a){var b,c,d=arguments.length>1&& void 0!==arguments[1]?arguments[1]:{};if(!(0,y.Z)())return null;var e=document.createElement("style");(null===(b=d.csp)|| void 0===b?void 0:b.nonce)&&(e.nonce=null===(c=d.csp)|| void 0===c?void 0:c.nonce),e.innerHTML=a;var f=A(d),g=f.firstChild;return d.prepend&&f.prepend?f.prepend(e):d.prepend&&g?f.insertBefore(e,g):f.appendChild(e),e}var C=new Map();function D(a){return"object"===(0,v.Z)(a)&&"string"==typeof a.name&&"string"==typeof a.theme&&("object"===(0,v.Z)(a.icon)||"function"==typeof a.icon)}function E(){var a=arguments.length>0&& void 0!==arguments[0]?arguments[0]:{};return Object.keys(a).reduce(function(b,c){var d=a[c];switch(c){case"class":b.className=d,delete b.class;break;default:b[c]=d}return b},{})}function F(a,b,c){return c?m.createElement(a.tag,(0,l.Z)((0,l.Z)({key:b},E(a.attrs)),c),(a.children||[]).map(function(c,d){return F(c,"".concat(b,"-").concat(a.tag,"-").concat(d))})):m.createElement(a.tag,(0,l.Z)({key:b},E(a.attrs)),(a.children||[]).map(function(c,d){return F(c,"".concat(b,"-").concat(a.tag,"-").concat(d))}))}function G(a){return(0,w.generate)(a)[0]}function H(a){return a?Array.isArray(a)?a:[a]:[]}var I=function(){var a=arguments.length>0&& void 0!==arguments[0]?arguments[0]:"\n.anticon {\n  display: inline-block;\n  color: inherit;\n  font-style: normal;\n  line-height: 0;\n  text-align: center;\n  text-transform: none;\n  vertical-align: -0.125em;\n  text-rendering: optimizeLegibility;\n  -webkit-font-smoothing: antialiased;\n  -moz-osx-font-smoothing: grayscale;\n}\n\n.anticon > * {\n  line-height: 1;\n}\n\n.anticon svg {\n  display: inline-block;\n}\n\n.anticon::before {\n  display: none;\n}\n\n.anticon .anticon-icon {\n  display: block;\n}\n\n.anticon[tabindex] {\n  cursor: pointer;\n}\n\n.anticon-spin::before,\n.anticon-spin {\n  display: inline-block;\n  -webkit-animation: loadingCircle 1s infinite linear;\n  animation: loadingCircle 1s infinite linear;\n}\n\n@-webkit-keyframes loadingCircle {\n  100% {\n    -webkit-transform: rotate(360deg);\n    transform: rotate(360deg);\n  }\n}\n\n@keyframes loadingCircle {\n  100% {\n    -webkit-transform: rotate(360deg);\n    transform: rotate(360deg);\n  }\n}\n",b=(0,m.useContext)(u).csp;(0,m.useEffect)(function(){!function(a,b){var c,d,e,f=arguments.length>2&& void 0!==arguments[2]?arguments[2]:{},g=A(f);if(!C.has(g)){var h=B("",f),i=h.parentNode;C.set(g,i),i.removeChild(h)}var j=Array.from(C.get(g).children).find(function(a){return"STYLE"===a.tagName&&a[z]===b});if(j)return(null===(c=f.csp)|| void 0===c?void 0:c.nonce)&&j.nonce!==(null===(d=f.csp)|| void 0===d?void 0:d.nonce)&&(j.nonce=null===(e=f.csp)|| void 0===e?void 0:e.nonce),j.innerHTML!==a&&(j.innerHTML=a),j;var k=B(a,f);return k[z]=b,k}(a,"@ant-design-icons",{prepend:!0,csp:b})},[])},J=["icon","className","onClick","style","primaryColor","secondaryColor"],K={primaryColor:"#333",secondaryColor:"#E6E6E6",calculated:!1},L=function(a){var b,c,d=a.icon,e=a.className,f=a.onClick,g=a.style,h=a.primaryColor,i=a.secondaryColor,j=(0,q.Z)(a,J),k=K;if(h&&(k={primaryColor:h,secondaryColor:i||G(h)}),I(),b=D(d),c="icon should be icon definiton, but got ".concat(d),(0,x.ZP)(b,"[@ant-design/icons] ".concat(c)),!D(d))return null;var m=d;return m&&"function"==typeof m.icon&&(m=(0,l.Z)((0,l.Z)({},m),{},{icon:m.icon(k.primaryColor,k.secondaryColor)})),F(m.icon,"svg-".concat(m.name),(0,l.Z)({className:e,onClick:f,style:g,"data-icon":m.name,width:"1em",height:"1em",fill:"currentColor","aria-hidden":"true"},j))};L.displayName="IconReact",L.getTwoToneColors=function(){return(0,l.Z)({},K)},L.setTwoToneColors=function(a){var b=a.primaryColor,c=a.secondaryColor;K.primaryColor=b,K.secondaryColor=c||G(b),K.calculated=!!c};var M=L;function N(a){var b=H(a),c=(0,o.Z)(b,2),d=c[0],e=c[1];return M.setTwoToneColors({primaryColor:d,secondaryColor:e})}var O=["className","icon","spin","rotate","tabIndex","onClick","twoToneColor"];N("#1890ff");var P=m.forwardRef(function(a,b){var c,d=a.className,e=a.icon,f=a.spin,g=a.rotate,h=a.tabIndex,i=a.onClick,j=a.twoToneColor,k=(0,q.Z)(a,O),n=m.useContext(u),r=n.prefixCls,t=void 0===r?"anticon":r,v=s()(t,(c={},(0,p.Z)(c,"".concat(t,"-").concat(e.name),!!e.name),(0,p.Z)(c,"".concat(t,"-spin"),!!f||"loading"===e.name),c),d),w=h;void 0===w&&i&&(w=-1);var x=g?{msTransform:"rotate(".concat(g,"deg)"),transform:"rotate(".concat(g,"deg)")}:void 0,y=H(j),z=(0,o.Z)(y,2),A=z[0],B=z[1];return m.createElement("span",(0,l.Z)((0,l.Z)({role:"img","aria-label":e.name},k),{},{ref:b,tabIndex:w,onClick:i,className:v}),m.createElement(M,{icon:e,primaryColor:A,secondaryColor:B,style:x}))});P.displayName="AntdIcon",P.getTwoToneColor=function(){var a=M.getTwoToneColors();return a.calculated?[a.primaryColor,a.secondaryColor]:a.primaryColor},P.setTwoToneColor=N;var Q=P,R=function(a,b){return m.createElement(Q,(0,l.Z)((0,l.Z)({},a),{},{ref:b,icon:n}))};R.displayName="CaretRightOutlined";var S=m.forwardRef(R),T=c(86010),U=c(11163),V=c(87536),W=c(88767),X=c(44862),Y=c(27733),Z=c(57411),$=c(93077),_=c(94851),aa=c(66727),ba=c(85893),ca=["HistoryOrderChanges","PayOrderHistories","Complains"];function da(a,b){var c=Object.keys(a);if(Object.getOwnPropertySymbols){var d=Object.getOwnPropertySymbols(a);b&&(d=d.filter(function(b){return Object.getOwnPropertyDescriptor(a,b).enumerable})),c.push.apply(c,d)}return c}function ea(a){for(var b=1;b<arguments.length;b++){var c=null!=arguments[b]?arguments[b]:{};b%2?da(Object(c),!0).forEach(function(b){(0,e.Z)(a,b,c[b])}):Object.getOwnPropertyDescriptors?Object.defineProperties(a,Object.getOwnPropertyDescriptors(c)):da(Object(c)).forEach(function(b){Object.defineProperty(a,b,Object.getOwnPropertyDescriptor(c,b))})}return a}var fa="TabPanel py-4",ga=i.Z.Panel,ha=function(){var a,b,c,e,j,l=(0,aa.CG)(function(a){return a.user}).current;if(!l)return null;var n=(0,U.useRouter)().query,o=Number((0,U.useRouter)().query.id),p=m.useState(0),q=(0,h.Z)(p,2),r=q[0],s=q[1],t=(0,aa.CG)(aa.s_),u=null==t?void 0:t.connectionId,v=(0,_.Nj)({userSaleEnabled:!!l,userOrderEnabled:!!l}),w=v.userSale,x=v.userOrder,y=(0,V.cI)({mode:"onBlur"});(0,m.useEffect)(function(){if(u){var a=null;return t.on("change",function(a){null!=a&&a.length&&a.some(function(a){return a.Id=== +(null==n?void 0:n.id)})&&y.reset(X.CY[0])}),function(){return clearTimeout(a)}}},[u]);var z=(0,W.useQuery)(["order-list",o],function(){return X.CY.getByID(+(null==n?void 0:n.id))},{onSuccess:function(a){var b,c;null!=a&&null!==(b=a.Data)&& void 0!==b&&b.IsCheckNotiPrice||(null==a?void 0:null===(c=a.Data)|| void 0===c?void 0:c.OrderType)!==3||Y.Amu.warning("Đơn h\xe0ng chưa cập nhật b\xe1o gi\xe1 cho kh\xe1ch!"),y.reset(null==a?void 0:a.Data)},onError:Y.Amu.error,retry:!1,enabled:!!+(null==n?void 0:n.id)}),A=z.data,B=z.isError,C=z.isLoading,D=z.isFetching,E=z.refetch,F=(0,W.useMutation)(X.CY.update,{onSuccess:function(){Y.Amu.success("Cập nhật đơn h\xe0ng th\xe0nh c\xf4ng"),E()},onError:function(){(0,Y.CFj)({title:"Lỗi!",message:"Đường truyền kết nối server bị lỗi! Vui l\xf2ng thử lại!",type:"error"})}}),G=function(){var a=(0,g.Z)(k().mark(function a(b){var c,d,e,g;return k().wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,c=b.HistoryOrderChanges,d=b.PayOrderHistories,e=b.Complains,g=(0,f.Z)(b,ca),a.next=4,F.mutateAsync(g);case 4:a.next=9;break;case 6:a.prev=6,a.t0=a.catch(0),(0,Y.CFj)({title:"Lỗi!",message:"Đường truyền kết nối server bị lỗi! Vui l\xf2ng thử lại!",type:"error"});case 9:case"end":return a.stop()}},a,null,[[0,6]])}));return function(b){return a.apply(this,arguments)}}();return B?(0,ba.jsx)(Y.HYy,{description:"Kh\xf4ng t\xecm thấy đơn h\xe0ng #".concat(null==n?void 0:n.id)}):(0,ba.jsxs)(d.default,{spinning:D,children:[(0,ba.jsx)(V.RV,ea(ea({},y),{},{children:(0,ba.jsxs)("div",{className:"xl:grid xl:grid-cols-10 gap-4 h-full w-full",children:[(0,ba.jsx)("div",{className:"xl:col-span-2",children:(0,ba.jsx)("div",{style:{position:"sticky",top:"80px"},children:(0,ba.jsx)(Y.dnl,{active:r,handleActive:function(a){return s(a)},handleUpdate:G,data:null==A?void 0:A.Data,loading:D,refetch:E,RoleID:null==l?void 0:l.UserGroupId})})}),(0,ba.jsx)("div",{className:"col-span-8 tableBoxPag !h-fit !pb-0 ml-6",children:(0,ba.jsxs)(i.Z,{expandIconPosition:"right",expandIcon:function(a){var b=a.isActive;return(0,ba.jsx)(S,{rotate:b?90:0})},defaultActiveKey:["1","2","3","4","5","6","7"],children:[(0,ba.jsx)(ga,{header:"M\xe3 đơn h\xe0ng (".concat((null==A?void 0:null===(a=A.Data)|| void 0===a?void 0:null===(b=a.MainOrderCodes)|| void 0===b?void 0:b.length)||0,")"),children:(0,ba.jsx)("div",{id:"order-code",className:(0,T.Z)(fa,0===r&&"","px-4"),children:(0,ba.jsx)(Y.Z6V,{data:null==A?void 0:A.Data,loading:D,refetch:E,RoleID:null==l?void 0:l.UserGroupId})})},"1"),(0,ba.jsx)(ga,{header:"M\xe3 vận đơn (".concat((null==A?void 0:null===(c=A.Data)|| void 0===c?void 0:c.SmallPackages.length)||0,")"),children:(0,ba.jsx)("div",{id:"transfer-code-list",className:(0,T.Z)(fa,"!p-2 !py-0",1===r&&""),children:(0,ba.jsx)(Y.NRd,{data:null==A?void 0:A.Data,loading:D,handleUpdate:G,RoleID:null==l?void 0:l.UserGroupId})})},"2"),(0,ba.jsx)(ga,{header:"Danh s\xe1ch sản phẩm (".concat((null==A?void 0:null===(e=A.Data)|| void 0===e?void 0:null===(j=e.Orders)|| void 0===j?void 0:j.length)||0,")"),children:(0,ba.jsx)("div",{id:"product-list",className:(0,T.Z)(fa,2===r&&"","!px-2 !py-0"),children:(0,ba.jsx)(Y.GDN,{data:null==A?void 0:A.Data,loading:D,refetch:E,RoleID:null==l?void 0:l.UserGroupId})})},"3"),(0,ba.jsx)(ga,{header:"Chi ph\xed đơn h\xe0ng",children:(0,ba.jsxs)("div",{id:"surcharge-list",className:(0,T.Z)(fa,"p-2 !pt-0",3===r&&""),children:[(0,ba.jsx)(Y.jE_,{data:null==A?void 0:A.Data,loading:D,handleUpdate:G,RoleID:null==l?void 0:l.UserGroupId}),(0,ba.jsx)(Y.o2B,{loading:D,data:null==A?void 0:A.Data,RoleID:null==l?void 0:l.UserGroupId})]})},"4"),(0,ba.jsx)(ga,{header:"Nh\xe2n vi\xean xử l\xfd",children:(0,ba.jsx)("div",{id:"handling-staff",className:(0,T.Z)(fa,5===r&&"","px-4 !pt-0"),children:(0,ba.jsx)(Y.a3,{data:null==A?void 0:A.Data,userSaleCatalogue:w,userOrderCatalogue:x,loading:D,RoleID:null==l?void 0:l.UserGroupId})})},"5"),(0,ba.jsx)(ga,{header:"Th\xf4ng tin đặt h\xe0ng",children:(0,ba.jsx)("div",{id:"order-info",className:(0,T.Z)(fa,6===r&&""),children:(0,ba.jsx)(Y._in,{data:null==A?void 0:A.Data,loading:C})})},"6"),(0,ba.jsx)(ga,{header:"Lịch sử",children:(0,ba.jsx)("div",{id:"history",className:(0,T.Z)(fa,7===r&&""),children:(0,ba.jsx)(Y.gJx,{data:null==A?void 0:A.Data,loading:D})})},"8")]})})]})})),A&&(0,ba.jsx)(Y.y97,{clientId:A.Data.UID,mainOrderId:+(null==n?void 0:n.id)})]})};ha.displayName=$.B.oder.detail,ha.breadcrumb=Z.m.order.orderList.detail,ha.Layout=Y.Ar2;var ia=ha},24194:function(a,b,c){(window.__NEXT_P=window.__NEXT_P||[]).push(["/manager/order/order-list/detail",function(){return c(50803)}])}},function(a){a.O(0,[675,296,3662,7570,3997,335,9774,2888,179],function(){return a(a.s=24194)}),_N_E=a.O()}])