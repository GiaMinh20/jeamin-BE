(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[9338],{93077:function(n,e,t){"use strict";t.d(e,{B:function(){return i},W:function(){return o}});var i={dasboard:"Trang \u0111i\u1ec1u khi\u1ec3n",settings:{system:"C\u1ea5u h\xecnh h\u1ec7 th\u1ed1ng",feeTQVN:"C\u1ea5u h\xecnh v\u1eadn chuy\u1ec3n TQVN",feeBuy:"C\u1ea5u h\xecnh ph\xed d\u1ecbch v\u1ee5 mua h\xe0ng",feePayFor:"C\u1ea5u h\xecnh ph\xed thanh to\xe1n h\u1ed9",feeUser:"C\u1ea5u h\xecnh ph\xed ng\u01b0\u1eddi d\xf9ng",listBank:"Danh s\xe1ch ng\xe2n h\xe0ng",notification:"C\u1ea5u h\xecnh th\xf4ng b\xe1o",goodsChecking:"C\u1ea5u h\xecnh ph\xed ki\u1ec3m \u0111\u1ebfm",wareHouse:"C\u1ea5u h\xecnh kho TQ - VN"},staff:{employeeManager:"Qu\u1ea3n l\xfd nh\xe2n vi\xean",decentralization:"Qu\u1ea3n l\xfd ph\xe2n quy\u1ec1n",infoAccount:"Th\xf4ng tin t\xe0i kho\u1ea3n",commissionManager:"Qu\u1ea3n l\xfd hoa h\u1ed3ng"},listCustomer:"Danh s\xe1ch kh\xe1ch h\xe0ng",createNewClient:"Th\xeam m\u1edbi kh\xe1ch h\xe0ng",oder:{orderMain:"Danh s\xe1ch \u0111\u01a1n h\xe0ng",oderBuyFor:"\u0110\u01a1n h\xe0ng mua h\u1ed9",oderBuyForOther:"\u0110\u01a1n h\xe0ng mua h\u1ed9 kh\xe1c",payFor:"\u0110\u01a1n h\xe0ng thanh to\xe1n h\u1ed9",detail:" Chi ti\u1ebft \u0111\u01a1n h\xe0ng",payOder:"Thanh to\xe1n \u0111\u01a1n h\xe0ng",createdOder:"T\u1ea1o \u0111\u01a1n h\xe0ng kh\xe1c",detailProduct:"Chi ti\u1ebft s\u1ea3n ph\u1ea9m"},handleComplaint:"X\u1eed l\xfd khi\u1ebfu n\u1ea1i",deposit:{listDeposit:"Danh s\xe1ch v\u1eadn chuy\u1ec3n h\u1ed9",statisticalFeeDeposit:"Th\u1ed1ng k\xea c\u01b0\u1edbc v\u1eadn chuy\u1ec3n h\u1ed9",exportDepositRequest:"Xu\u1ea5t kho k\xfd g\u1eedi \u0111\xe3 y\xeau c\u1ea7u",exportDeposit:"Xu\u1ea5t kho ki\u1ec7n ch\u01b0a y\xeau c\u1ea7u",detailRequest:"Chi ti\u1ebft y\xeau c\u1ea7u"},checkWarehouseTQ:"Ki\u1ec3m h\xe0ng kho TQ",checkWarehouseVN:"Ki\u1ec3m h\xe0ng kho VN",importWarehouseTQ:"Nh\u1eadp kho TQ",assignPro:"G\xe1n ki\u1ec7n cho kh\xe1ch",export:"Xu\u1ea5t kho",parcelManagement:{packageManagement:"Qu\u1ea3n l\xfd bao h\xe0ng",billCodeManager:"Qu\u1ea3n l\xfd m\xe3 v\u1eadn \u0111\u01a1n",lostCase:"Danh s\xe1ch ki\u1ec7n th\u1ea5t l\u1ea1c",floatingCase:"Danh s\xe1ch ki\u1ec7n tr\xf4i n\u1ed5i",detailPackageManagement:"Qu\u1ea3n l\xfd bao h\xe0ng chi ti\u1ebft"},moneyManagement:{personalRecharge:"qu\u1ea3n l\xfd n\u1ea1p ti\u1ec1n c\xe1 nh\xe2n",historyRechargeVN:"L\u1ecbch s\u1eed n\u1ea1p ti\u1ec1n",historyWithdrawVN:"L\u1ecbch s\u1eed r\xfat ti\u1ec1n",historyRechargeTQ:"L\u1ecbch s\u1eed n\u1ea1p t\u1ec7",historyWithdrawTQ:"L\u1ecbch s\u1eed r\xfat t\u1ec7",historyTransaction:"L\u1ecbch s\u1eed giao d\u1ecbch",payExport:"Thanh to\xe1n xu\u1ea5t kho",detailPayExport:"Chi ti\u1ebft thanh to\xe1n xu\u1ea5t kho"},statistical:{printPurchaseVoucher:"In phi\u1ebfu mua h\u1ed9",turnover:"Th\u1ed1ng k\xea doanh thu",depositMoney:"Th\u1ed1ng k\xea ti\u1ec1n n\u1ea1p",surplus:"Th\u1ed1ng k\xea s\u1ed1 d\u01b0",transaction:"Th\u1ed1ng k\xea giao d\u1ecbch",other:"Th\u1ed1ng k\xea \u0111\u01a1n h\xe0ng",realMoney:"Th\u1ed1ng k\xea ti\u1ec1n mua h\xe0ng",depositRevenue:"Th\u1ed1ng k\xea k\xfd g\u1eedi",salesRevenue:"Th\u1ed1ng k\xea sale",orderRevenue:"Th\u1ed1ng k\xea \u0111\u1eb7t h\xe0ng",profitBuyFor:"Th\u1ed1ng k\xea l\u1ee3i nhu\u1eadn mua h\u1ed9",profitPayFor:"Th\u1ed1ng k\xea l\u1ee3i nhu\u1eadn mua h\u1ed9"},post:{Categories:"Chuy\xean m\u1ee5c b\xe0i vi\u1ebft",listPost:"B\xe0i vi\u1ebft",addCategories:" Th\xeam chuy\xean m\u1ee5c",editCategories:"Ch\u1ec9nh s\u1eeda chuy\xean m\u1ee5c",addPost:"Th\xeam b\xe0i vi\u1ebft",editPost:"Ch\u1ec9nh s\u1eeda b\xe0i vi\u1ebft"},homepageContent:"C\u1ea5u h\xecnh trang ch\u1ee7",detailMenu:"Chi ti\u1ebft Menu",addMenuChild:"Th\xeam menu con",addMenu:"Th\xeam menu",signIn:"\u0110\u0103ng nh\u1eadp",register:"\u0110\u0103ng k\xfd",forgotPassword:"Kh\xf4i ph\u1ee5c m\u1eadt kh\u1ea9u",homePage:"NHAPHANGTRUNGQUOC.MONAMEDIA.NET",notification:"Th\xf4ng b\xe1o"},o={dashboard:"Dashboard",shopping:{shopingBag:"Gi\u1ecf h\xe0ng",payment:"Thanh to\xe1n"},buyGroceries:{listOder:"Danh s\xe1ch \u0111\u01a1n h\xe0ng",createOderPageTMDT:"T\u1ea1o \u0111\u01a1n h\xe0ng trang TM\u0110T Kh\xe1c","listOderTM\u0110T":"Danh s\xe1ch \u0111\u01a1n h\xe0ng"},consignmentShipping:{createOderDeposit:"T\u1ea1o \u0111\u01a1n h\xe0ng k\xfd g\u1eedi",listOderDeposit:"Danh s\xe1ch \u0111\u01a1n h\xe0ng k\xfd g\u1eedi",statisticalDeposit:"Th\u1ed1ng k\xea c\u01b0\u1edbc k\xfd g\u1eedi"},payFor:{listRequest:"Danh s\xe1ch y\xeau c\u1ea7u thanh to\xe1n h\u1ed9",createRequest:"T\u1ea1o y\xeau c\u1ea7u thanh to\xe1n h\u1ed9",detaiPay:"Chi ti\u1ebft thanh to\xe1n h\u1ed9"},financialManagement:{listTransactionVND:" Danh s\xe1ch giao d\u1ecbch VN\u0110",listTransactionTQ:" Danh s\xe1ch giao d\u1ecbch VN\u0110","rechargeVN\u0110":"N\u1ea1p ti\u1ec1n VN\u0110",rechargeTQ:"N\u1ea1p ti\u1ec1n TQ",withdrawMoneyVND:"R\xfat ti\u1ec1n VN\u0110",withdrawMoneyTQ:"R\xfat ti\u1ec1n TQ"},complain:"Khi\u1ebfu n\u1ea1i",floating:"Ki\u1ec7n tr\xf4i n\u1ed5i",createComplain:"T\u1ea1o khi\u1ebfu n\u1ea1i m\u1edbi",tracking:"Theo d\xf5i v\u1eadn chuy\u1ec3n",infoUser:"Th\xf4ng tin ng\u01b0\u1eddi d\xf9ng"}},63606:function(n,e,t){"use strict";t.r(e);t(76405);var i=t(69843),o=t(92809),a=t(11163),r=t(67294),u=t(88767),h=t(44862),s=t(27733),l=t(94750),c=t(93077),d=t(66727),g=t(85893);function v(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(n);e&&(i=i.filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),t.push.apply(t,i)}return t}function p(n){for(var e=1;e<arguments.length;e++){var t=null!=arguments[e]?arguments[e]:{};e%2?v(Object(t),!0).forEach((function(e){(0,o.Z)(n,e,t[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):v(Object(t)).forEach((function(e){Object.defineProperty(n,e,Object.getOwnPropertyDescriptor(t,e))}))}return n}var m=function(){var n,e,t=(0,d.CG)(d.dy).user;if(!t)return null;var o=(0,a.useRouter)().query,c=null===t||void 0===t?void 0:t.UserId,v=(0,r.useState)([]),m=v[0],f=v[1],y=(0,r.useRef)("deposit"),T=(0,r.useState)({TypeSearch:null,SearchContent:null,Status:null,FromDate:null,ToDate:null,PageIndex:1,PageSize:20,UID:c,OrderType:"3"===(null===o||void 0===o?void 0:o.q)?3:1,TotalItems:null}),k=T[0],C=T[1],O=(0,r.useState)("one"),D=O[0],b=O[1],P=(0,r.useState)(!1),N=P[0],S=P[1],M=(0,r.useState)(l.S6),Q=M[0],x=M[1],j=(0,r.useState)(l.OO),I=j[0],R=j[1],w=function(n){C(p(p({},k),n))};(0,r.useEffect)((function(){C({TypeSearch:null,SearchContent:null,Status:null,FromDate:null,ToDate:null,PageIndex:1,PageSize:20,UID:c,OrderType:"3"===(null===o||void 0===o?void 0:o.q)?3:1,TotalItems:null}),x(l.S6),R(l.OO)}),[null===o||void 0===o?void 0:o.q]);var q=(0,u.useQuery)(["orderList",p({},k)],(function(){return h.CY.getList(k).then((function(n){return n.Data}))}),{retry:!1,onSuccess:function(n){return C(p(p({},k),{},{TotalItems:null===n||void 0===n?void 0:n.TotalItem,PageIndex:null===n||void 0===n?void 0:n.PageIndex,PageSize:null===n||void 0===n?void 0:n.PageSize}))},onError:function(n){var e,t;(0,s.CFj)({title:"\u0110\xe3 x\u1ea3y ra l\xf4i!",message:null===n||void 0===n||null===(e=n.response)||void 0===e||null===(t=e.data)||void 0===t?void 0:t.ResultMessage,type:"error"})},enabled:!!t}),E=q.data,F=q.isFetching,V=(q.refetch,(0,u.useQueryClient)()),A=(0,u.useMutation)((function(n){return h.CY.updateOrder(null===n||void 0===n?void 0:n.map((function(n){return n.Id})),{Status:2})}),{onSuccess:function(){V.invalidateQueries("orderList"),V.invalidateQueries("clientData"),V.invalidateQueries({queryKey:"menuData"}),s.Amu.success("\u0110\u1eb7t c\u1ecdc th\xe0nh c\xf4ng")},onError:function(n){var e,t,i,o;(0,s.CFj)({title:null===n||void 0===n||null===(e=n.response)||void 0===e||null===(t=e.data)||void 0===t?void 0:t.ResultCode,message:null===n||void 0===n||null===(i=n.response)||void 0===i||null===(o=i.data)||void 0===o?void 0:o.ResultMessage,type:"error"})}}),B=(0,u.useMutation)((function(n){return h.CY.updateOrder(null===n||void 0===n?void 0:n.map((function(n){return null===n||void 0===n?void 0:n.Id})),{Status:7})}),{onSuccess:function(){V.invalidateQueries("orderList"),V.invalidateQueries("clientData"),V.invalidateQueries({queryKey:"menuData"}),s.Amu.success("Thanh to\xe1n th\xe0nh c\xf4ng")},onError:function(n){var e,t,i,o;(0,s.CFj)({title:null===n||void 0===n||null===(e=n.response)||void 0===e||null===(t=e.data)||void 0===t?void 0:t.ResultCode,message:null===n||void 0===n||null===(i=n.response)||void 0===i||null===(o=i.data)||void 0===o?void 0:o.ResultMessage,type:"error"})}}),_=function(n,e,t){f(n),b(t),null!==n&&void 0!==n&&n.length?S(!0):S(!1)};return(0,u.useQuery)(["main-order-amount",{OrderType:"3"===(null===o||void 0===o?void 0:o.q)?3:1}],(function(){return h.CY.getMainOrderAmount({orderType:"3"===(null===o||void 0===o?void 0:o.q)?3:1})}),{onSuccess:function(n){var e=n.Data,t=function(n){Q.forEach((function(t){t.key===n&&(t.value=e[n])}))};for(var i in e)t(i);x(Q)},onError:function(n){var e,t;(0,s.CFj)({title:"\u0110\xe3 x\u1ea3y ra l\xf4i!",message:null===n||void 0===n||null===(e=n.response)||void 0===e||null===(t=e.data)||void 0===t?void 0:t.ResultMessage,type:"error"})},enabled:!!t}),(0,u.useQuery)(["number-of-order",{UID:c,orderType:"3"===(null===o||void 0===o?void 0:o.q)?3:1}],(function(){return h.CY.getNumberOfOrder({UID:c,orderType:"3"===(null===o||void 0===o?void 0:o.q)?3:1})}),{onSuccess:function(n){var e=n.Data,t=function(n){I.forEach((function(t){t.key===n&&(t.value=e[n])}))};for(var i in e)t(i);R(I)},onError:function(n){var e,t;(0,s.CFj)({title:"\u0110\xe3 x\u1ea3y ra l\xf4i!",message:null===n||void 0===n||null===(e=n.response)||void 0===e||null===(t=e.data)||void 0===t?void 0:t.ResultMessage,type:"error"})},enabled:!!t}),(0,g.jsxs)(r.Fragment,{children:[(0,g.jsx)("div",{className:"titlePageUser",children:"3"===(null===o||void 0===o?void 0:o.q)?"Danh s\xe1ch \u0111\u01a1n mua h\u1ed9 kh\xe1c":"Danh s\xe1ch \u0111\u01a1n mua h\u1ed9"}),(0,g.jsxs)("div",{className:"tableBox py-2",children:[(0,g.jsx)(s.S_C,{numberOfOrder:I,moneyOfOrders:Q}),(0,g.jsxs)("div",{className:"",children:[(0,g.jsx)(s.S2z,{numberOfOrder:I,handleFilter:w,handleDepositAll:function(){var n;y.current="deposit",_(null===E||void 0===E||null===(n=E.Items)||void 0===n?void 0:n.filter((function(n){return n.Status===l.L7.Undeposited})),0,"all")},handlePaymentAll:function(){var n;y.current="payment",_(null===E||void 0===E||null===(n=E.Items)||void 0===n?void 0:n.filter((function(n){return n.Status===l.L7.ArrivedToVietNamWarehouse})),0,"all")}}),(0,g.jsx)(s.chN,{data:null===E||void 0===E?void 0:E.Items,loading:F,selectedRowKeys:m.map((function(n){return n.Id})),handleModal:_,type:y,q:null===o||void 0===o?void 0:o.q}),(0,g.jsx)("div",{className:"mt-4 text-right",children:(0,g.jsx)(i.default,{total:null===k||void 0===k?void 0:k.TotalItems,current:null===k||void 0===k?void 0:k.PageIndex,pageSize:null===k||void 0===k?void 0:k.PageSize,onChange:function(n,e){return w(p(p({},k),{},{PageIndex:n,PageSize:e}))}})})]}),(0,g.jsx)(s.tcN,{visible:N&&"some"!==D&&"deposit"===y.current,onConfirm:function(){A.mutateAsync(m),_([])},onCancel:function(){return _([])},title:"some"===D?"B\u1ea1n c\xf3 ch\u1eafc mu\u1ed1n \u0111\u1eb7t c\u1ecdc nh\u1eefng \u0111\u01a1n \u0111\xe3 ch\u1ecdn":"all"===D?"B\u1ea1n c\xf3 ch\u1eafc mu\u1ed1n \u0111\u1eb7t c\u1ecdc t\u1ea5t c\u1ea3 \u0111\u01a1n":"B\u1ea1n c\xf3 mu\u1ed1n \u0111\u1eb7t c\u1ecdc \u0111\u01a1n #".concat(null===m||void 0===m||null===(n=m[0])||void 0===n?void 0:n.Id)}),(0,g.jsx)(s.tcN,{visible:N&&"some"!==D&&"payment"===y.current,onConfirm:function(){B.mutateAsync(m),_([])},onCancel:function(){return _([])},title:"some"===D?"B\u1ea1n c\xf3 ch\u1eafc mu\u1ed1n thanh to\xe1n nh\u1eefng \u0111\u01a1n \u0111\xe3 ch\u1ecdn":"all"===D?"B\u1ea1n c\xf3 ch\u1eafc mu\u1ed1n thanh to\xe1n t\u1ea5t c\u1ea3 \u0111\u01a1n":"B\u1ea1n c\xf3 mu\u1ed1n thanh to\xe1n \u0111\u01a1n #".concat(null===m||void 0===m||null===(e=m[0])||void 0===e?void 0:e.Id)})]}),(0,g.jsx)(s.hyM,{visible:N&&"some"===D,data:m,onCancel:function(){return S(!1)},handleDeposit:A.mutateAsync,handlePayment:B.mutateAsync})]})};m.displayName=c.W.buyGroceries.listOder,m.Layout=s.rfd,e.default=m},94593:function(n,e,t){(window.__NEXT_P=window.__NEXT_P||[]).push(["/user/order-list",function(){return t(63606)}])}},function(n){n.O(0,[675,296,3662,7570,3997,335,9774,2888,179],(function(){return e=94593,n(n.s=e);var e}));var e=n.O();_N_E=e}]);